<html>
<head>
<title>r_glm.s</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
r_glm.s</font>
</center></td></tr></table>
<pre><span class="s0">### SETUP</span>
<span class="s0">#star.data &lt;- as.matrix(read.csv(&quot;./star98.csv&quot;,header=T))</span>
<span class="s0">#star.factors3 &lt;- data.frame( LOWINC=star.data[,3], PERASIAN=star.data[,4], PERBLACK=star.data[,5],</span>
<span class="s0">#	PERHISP=star.data[,6], PERMINTE=star.data[,7], AVYRSEXP=star.data[,8], AVSAL=star.data[,9],</span>
<span class="s0">#	PERSPEN=star.data[,10], PTRATIO=star.data[,11], PCTAF=star.data[,12], PCTCHRT=star.data[,13],</span>
<span class="s0">#	PCTYRRND=star.data[,14], PERMINTE.AVYRSEXP=star.data[,15], PERMINTE.AVSAL=star.data[,16],</span>
<span class="s0">#    AVYRSEXP.AVSAL=star.data[,17], PERSPEN.PTRATIO=star.data[,18], PERSPEN.PCTAF=star.data[,19],</span>
<span class="s0">#    PTRATIO.PCTAF=star.data[,20], PERMINTE.AVYRSEXP.AVSAL=star.data[,21],</span>
<span class="s0">#    PERSPEN.PTRATIO.PCTAF=star.data[,22], MATHTOT=star.data[,1], PR50M=star.data[,2] )</span>
<span class="s0">d &lt;- read.table(&quot;./star98.csv&quot;, sep=&quot;,&quot;, header=T)</span>
<span class="s0">attach(d)</span>
<span class="s0">#attach(star.factors3)</span>


<span class="s0">### MATH MODEL</span>
<span class="s0">m1 &lt;-  glm(cbind(PR50M,MATHTOT-PR50M) ~ LOWINC + PERASIAN + PERBLACK + PERHISP +</span>
    <span class="s0">PERMINTE + AVYRSEXP + AVSALK + PERSPENK + PTRATIO + PCTAF + PCTCHRT + PCTYRRND +</span>
    <span class="s0">PERMINTE_AVYRSEXP + PERMINTE_AVSAL + AVYRSEXP_AVSAL + PERSPEN_PTRATIO + PERSPEN_PCTAF + </span>
    <span class="s0">PTRATIO_PCTAF + PERMINTE_AVYRSEXP_AVSAL + PERSPEN_PTRATIO_PCTAF,</span>
    <span class="s0">family=binomial)</span>
<span class="s0">#as.numeric(m1$coef)</span>
<span class="s0">#as.numeric(sqrt(diag(vcov(m1))))</span>
<span class="s0">results &lt;- summary.glm(m1)</span>
    
<span class="s0">#star.logit.fit3 &lt;- glm(cbind(PR50M,MATHTOT-PR50M) ~ LOWINC + PERASIAN + PERBLACK + PERHISP +</span>
<span class="s0">#    PERMINTE + AVYRSEXP + AVSAL + PERSPEN + PTRATIO + PCTAF + PCTCHRT + PCTYRRND +</span>
<span class="s0">#    PERMINTE.AVYRSEXP + PERMINTE.AVSAL + AVYRSEXP.AVSAL + PERSPEN.PTRATIO + PERSPEN.PCTAF + </span>
<span class="s0">#    PTRATIO.PCTAF + PERMINTE.AVYRSEXP.AVSAL + PERSPEN.PTRATIO.PCTAF, </span>
<span class="s0">#    family = binomial(), data=star.factors3)</span>
<span class="s0">#results &lt;- summary.glm(star.logit.fit3)</span>
<span class="s0"># WITH R STYLE INTERACTIONS</span>
<span class="s0">#star.logit.fit4 &lt;- glm(cbind(PR50M,MATHTOT-PR50M) ~ LOWINC + PERASIAN + PERBLACK + PERHISP +</span>
<span class="s0">#    PERMINTE + AVYRSEXP + AVSAL + PERSPEN + PTRATIO + PCTAF + PCTCHRT + PCTYRRND +</span>
<span class="s0">#    PERMINTE*AVYRSEXP*AVSAL + PERSPEN*PTRATIO*PCTAF, </span>
<span class="s0">#    family = binomial(), data=star.factors3)</span>


</pre>
</body>
</html>
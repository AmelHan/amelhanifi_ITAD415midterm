<html>
<head>
<title>results_truncated.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #629755; font-style: italic;}
.s3 { color: #cc7832;}
.s4 { color: #6a8759;}
.s5 { color: #6897bb;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
results_truncated.py</font>
</center></td></tr></table>
<pre><span class="s0"># -*- coding: utf-8 -*-</span>
<span class="s2">&quot;&quot;&quot; 
Created on Thu Jan  6 13:55:50 2022 
 
Author: Josef Perktod 
License: BSD-3 
&quot;&quot;&quot;</span>
<span class="s0"># flake8: noqa</span>

<span class="s3">import </span><span class="s1">numpy </span><span class="s3">as </span><span class="s1">np</span>

<span class="s3">from </span><span class="s1">statsmodels.tools.testing </span><span class="s3">import </span><span class="s1">Holder</span>

<span class="s1">hurdle_poisson = Holder()</span>
<span class="s0"># r library pscl, docvis data</span>
<span class="s0"># &gt; mod = hurdle( docvis ~ aget + totchr, data=dt, zero.dist = &quot;poisson&quot;)</span>
<span class="s1">hurdle_poisson.method = </span><span class="s4">'BFGS'</span>
<span class="s1">hurdle_poisson.n = </span><span class="s5">3629</span>
<span class="s1">hurdle_poisson.df_null = </span><span class="s5">3627</span>
<span class="s1">hurdle_poisson.df_residual = </span><span class="s5">3623</span>
<span class="s1">hurdle_poisson.loglik = -</span><span class="s5">13612.9091771797</span>
<span class="s1">hurdle_poisson.aic = </span><span class="s5">27237.81835436</span>
<span class="s1">hurdle_poisson.bic = </span><span class="s5">27274.9986288</span>
<span class="s1">hurdle_poisson.vcov = np.array([</span>
    <span class="s5">0.000239404800324688</span><span class="s3">, </span><span class="s1">-</span><span class="s5">4.59559682721834e-05</span><span class="s3">, </span><span class="s1">-</span><span class="s5">4.59865258972631e-05</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">,</span>
    <span class="s5">0</span><span class="s3">, </span><span class="s1">-</span><span class="s5">4.59559682721834e-05</span><span class="s3">, </span><span class="s5">2.54346275490526e-05</span><span class="s3">, </span><span class="s1">-</span><span class="s5">1.20164687288645e-06</span><span class="s3">, </span><span class="s5">0</span><span class="s3">,</span>
    <span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s1">-</span><span class="s5">4.59865258972631e-05</span><span class="s3">, </span><span class="s1">-</span><span class="s5">1.20164687288644e-06</span><span class="s3">, </span><span class="s5">2.01936456643824e-05</span><span class="s3">,</span>
    <span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0.00241829560973498</span><span class="s3">, </span><span class="s1">-</span><span class="s5">0.000548499729173446</span><span class="s3">,</span>
    <span class="s1">-</span><span class="s5">0.000636055275016966</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s1">-</span><span class="s5">0.000548499729173446</span><span class="s3">,</span>
    <span class="s5">0.000351548196602719</span><span class="s3">, </span><span class="s1">-</span><span class="s5">6.30088654100178e-05</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">,</span>
    <span class="s1">-</span><span class="s5">0.000636055275016966</span><span class="s3">, </span><span class="s1">-</span><span class="s5">6.30088654100178e-05</span><span class="s3">, </span><span class="s5">0.000562508220544602</span>
    <span class="s1">]).reshape(</span><span class="s5">6</span><span class="s3">, </span><span class="s5">6</span><span class="s3">, </span><span class="s1">order=</span><span class="s4">'F'</span><span class="s1">)</span>

<span class="s1">hurdle_poisson.count = np.array([</span>
    <span class="s5">1.54175599063303</span><span class="s3">, </span><span class="s5">0.0122763123129474</span><span class="s3">, </span><span class="s5">0.209943725275436</span><span class="s3">,</span>
    <span class="s5">0.0154727114729348</span><span class="s3">, </span><span class="s5">0.00504327547820388</span><span class="s3">, </span><span class="s5">0.00449373404468738</span><span class="s3">,</span>
    <span class="s5">99.6435559035596</span><span class="s3">, </span><span class="s5">2.43419427830254</span><span class="s3">, </span><span class="s5">46.719214619218</span><span class="s3">, </span><span class="s5">0</span><span class="s3">,</span>
    <span class="s5">0.0149249819228085</span><span class="s3">, </span><span class="s5">0</span>
    <span class="s1">]).reshape(</span><span class="s5">3</span><span class="s3">, </span><span class="s5">4</span><span class="s3">, </span><span class="s1">order=</span><span class="s4">'F'</span><span class="s1">)</span>

<span class="s1">hurdle_poisson.zero = np.array([</span>
    <span class="s5">0.216740121452838</span><span class="s3">, </span><span class="s5">0.0189277243223132</span><span class="s3">, </span><span class="s5">0.386748883124962</span><span class="s3">,</span>
    <span class="s5">0.0491761691242311</span><span class="s3">, </span><span class="s5">0.0187496185721929</span><span class="s3">, </span><span class="s5">0.0237172557549267</span><span class="s3">,</span>
    <span class="s5">4.40742183282514</span><span class="s3">, </span><span class="s5">1.00949916657955</span><span class="s3">, </span><span class="s5">16.3066455546664</span><span class="s3">,</span>
    <span class="s5">1.04608334100715e-05</span><span class="s3">, </span><span class="s5">0.312735301122465</span><span class="s3">, </span><span class="s5">8.85224303880408e-60</span>
    <span class="s1">]).reshape(</span><span class="s5">3</span><span class="s3">, </span><span class="s5">4</span><span class="s3">, </span><span class="s1">order=</span><span class="s4">'F'</span><span class="s1">)</span>

<span class="s1">hurdle_poisson.params_table = np.concatenate((hurdle_poisson.zero</span><span class="s3">,</span>
                                              <span class="s1">hurdle_poisson.count)</span><span class="s3">, </span><span class="s1">axis=</span><span class="s5">0</span><span class="s1">)</span>

<span class="s0"># &gt; dfm = data.frame(t(as.matrix(dtm)))  #at means</span>
<span class="s0"># &gt; predict(mod, dfm)</span>
<span class="s1">hurdle_poisson.predict_mean = </span><span class="s5">6.530525236464</span>
<span class="s0"># &gt; predict(mod, dfm, type=&quot;prob&quot;, at=c(0, 1, 2, 3))</span>
<span class="s1">hurdle_poisson.predict_prob = np.array([</span>
    <span class="s5">0.07266312350019</span><span class="s3">, </span><span class="s5">0.005744258908698</span><span class="s3">, </span><span class="s5">0.02020842274659</span><span class="s3">, </span><span class="s5">0.04739576870239</span><span class="s3">,</span>
    <span class="s1">])</span>
<span class="s0"># &gt; predict(mod, dfm, type=&quot;count&quot;)</span>
<span class="s1">hurdle_poisson.predict_mean_main = </span><span class="s5">7.036041748046</span>
<span class="s0"># &gt; predict(mod, dfm, type=&quot;zero&quot;)</span>
<span class="s1">hurdle_poisson.predict_zero = </span><span class="s5">0.9281532813926</span>
</pre>
</body>
</html>
<html>
<head>
<title>_signatures.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #629755; font-style: italic;}
.s1 { color: #a9b7c6;}
.s2 { color: #cc7832;}
.s3 { color: #808080;}
.s4 { color: #6a8759;}
.s5 { color: #6897bb;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
_signatures.py</font>
</center></td></tr></table>
<pre><span class="s0">&quot;&quot;&quot;Internal module for better introspection of builtins. 
 
The main functions are ``is_builtin_valid_args``, ``is_builtin_partial_args``, 
and ``has_unknown_args``.  Other functions in this module support these three. 
 
Notably, we create a ``signatures`` registry to enable introspection of 
builtin functions in any Python version.  This includes builtins that 
have more than one valid signature.  Currently, the registry includes 
builtins from ``builtins``, ``functools``, ``itertools``, and ``operator`` 
modules.  More can be added as requested.  We don't guarantee full coverage. 
 
Everything in this module should be regarded as implementation details. 
Users should try to not use this module directly. 
&quot;&quot;&quot;</span>
<span class="s2">import </span><span class="s1">functools</span>
<span class="s2">import </span><span class="s1">inspect</span>
<span class="s2">import </span><span class="s1">itertools</span>
<span class="s2">import </span><span class="s1">operator</span>
<span class="s2">from </span><span class="s1">importlib </span><span class="s2">import </span><span class="s1">import_module</span>

<span class="s2">from </span><span class="s1">.functoolz </span><span class="s2">import </span><span class="s1">(is_partial_args</span><span class="s2">, </span><span class="s1">is_arity</span><span class="s2">, </span><span class="s1">has_varargs</span><span class="s2">,</span>
                        <span class="s1">has_keywords</span><span class="s2">, </span><span class="s1">num_required_args)</span>

<span class="s2">import </span><span class="s1">builtins</span>

<span class="s3"># We mock builtin callables using lists of tuples with lambda functions.</span>
<span class="s3">#</span>
<span class="s3"># The tuple spec is (num_position_args, lambda_func, keyword_only_args).</span>
<span class="s3">#</span>
<span class="s3">#   num_position_args:</span>
<span class="s3">#       - The number of positional-only arguments.  If not specified,</span>
<span class="s3">#         all positional arguments are considered positional-only.</span>
<span class="s3">#</span>
<span class="s3">#   lambda_func:</span>
<span class="s3">#       - lambda function that matches a signature of a builtin, but does</span>
<span class="s3">#         not include keyword-only arguments.</span>
<span class="s3">#</span>
<span class="s3">#   keyword_only_args: (optional)</span>
<span class="s3">#       - Tuple of keyword-only argumemts.</span>

<span class="s1">module_info = {}</span>

<span class="s1">module_info[builtins] = dict(</span>
    <span class="s1">abs=[</span>
        <span class="s2">lambda </span><span class="s1">x: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">all=[</span>
        <span class="s2">lambda </span><span class="s1">iterable: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">anext=[</span>
        <span class="s2">lambda </span><span class="s1">aiterator: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">aiterator</span><span class="s2">, </span><span class="s1">default: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">any=[</span>
        <span class="s2">lambda </span><span class="s1">iterable: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">apply=[</span>
        <span class="s2">lambda </span><span class="s1">object: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">object</span><span class="s2">, </span><span class="s1">args: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">object</span><span class="s2">, </span><span class="s1">args</span><span class="s2">, </span><span class="s1">kwargs: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">ascii=[</span>
        <span class="s2">lambda </span><span class="s1">obj: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">bin=[</span>
        <span class="s2">lambda </span><span class="s1">number: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">bool=[</span>
        <span class="s2">lambda </span><span class="s1">x=</span><span class="s2">False</span><span class="s1">: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">buffer=[</span>
        <span class="s2">lambda </span><span class="s1">object: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">object</span><span class="s2">, </span><span class="s1">offset: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">object</span><span class="s2">, </span><span class="s1">offset</span><span class="s2">, </span><span class="s1">size: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">bytearray=[</span>
        <span class="s2">lambda</span><span class="s1">: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">int: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">string</span><span class="s2">, </span><span class="s1">encoding=</span><span class="s4">'utf8'</span><span class="s2">, </span><span class="s1">errors=</span><span class="s4">'strict'</span><span class="s1">: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">callable=[</span>
        <span class="s2">lambda </span><span class="s1">obj: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">chr=[</span>
        <span class="s2">lambda </span><span class="s1">i: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">classmethod=[</span>
        <span class="s2">lambda </span><span class="s1">function: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">cmp=[</span>
        <span class="s2">lambda </span><span class="s1">x</span><span class="s2">, </span><span class="s1">y: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">coerce=[</span>
        <span class="s2">lambda </span><span class="s1">x</span><span class="s2">, </span><span class="s1">y: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">complex=[</span>
        <span class="s2">lambda </span><span class="s1">real=</span><span class="s5">0</span><span class="s2">, </span><span class="s1">imag=</span><span class="s5">0</span><span class="s1">: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">delattr=[</span>
        <span class="s2">lambda </span><span class="s1">obj</span><span class="s2">, </span><span class="s1">name: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">dict=[</span>
        <span class="s2">lambda </span><span class="s1">**kwargs: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">mapping</span><span class="s2">, </span><span class="s1">**kwargs: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">dir=[</span>
        <span class="s2">lambda</span><span class="s1">: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">object: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">divmod=[</span>
        <span class="s2">lambda </span><span class="s1">x</span><span class="s2">, </span><span class="s1">y: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">enumerate=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">iterable</span><span class="s2">, </span><span class="s1">start=</span><span class="s5">0</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">eval=[</span>
        <span class="s2">lambda </span><span class="s1">source: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">source</span><span class="s2">, </span><span class="s1">globals: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">source</span><span class="s2">, </span><span class="s1">globals</span><span class="s2">, </span><span class="s1">locals: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">execfile=[</span>
        <span class="s2">lambda </span><span class="s1">filename: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">filename</span><span class="s2">, </span><span class="s1">globals: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">filename</span><span class="s2">, </span><span class="s1">globals</span><span class="s2">, </span><span class="s1">locals: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">file=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">name</span><span class="s2">, </span><span class="s1">mode=</span><span class="s4">'r'</span><span class="s2">, </span><span class="s1">buffering=-</span><span class="s5">1</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">filter=[</span>
        <span class="s2">lambda </span><span class="s1">function</span><span class="s2">, </span><span class="s1">iterable: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">float=[</span>
        <span class="s2">lambda </span><span class="s1">x=</span><span class="s5">0.0</span><span class="s1">: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">format=[</span>
        <span class="s2">lambda </span><span class="s1">value: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">value</span><span class="s2">, </span><span class="s1">format_spec: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">frozenset=[</span>
        <span class="s2">lambda</span><span class="s1">: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">iterable: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">getattr=[</span>
        <span class="s2">lambda </span><span class="s1">object</span><span class="s2">, </span><span class="s1">name: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">object</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">default: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">globals=[</span>
        <span class="s2">lambda</span><span class="s1">: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">hasattr=[</span>
        <span class="s2">lambda </span><span class="s1">obj</span><span class="s2">, </span><span class="s1">name: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">hash=[</span>
        <span class="s2">lambda </span><span class="s1">obj: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">hex=[</span>
        <span class="s2">lambda </span><span class="s1">number: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">id=[</span>
        <span class="s2">lambda </span><span class="s1">obj: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">input=[</span>
        <span class="s2">lambda</span><span class="s1">: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">prompt: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">int=[</span>
        <span class="s2">lambda </span><span class="s1">x=</span><span class="s5">0</span><span class="s1">: </span><span class="s2">None,</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">x</span><span class="s2">, </span><span class="s1">base=</span><span class="s5">10</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">intern=[</span>
        <span class="s2">lambda </span><span class="s1">string: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">isinstance=[</span>
        <span class="s2">lambda </span><span class="s1">obj</span><span class="s2">, </span><span class="s1">class_or_tuple: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">issubclass=[</span>
        <span class="s2">lambda </span><span class="s1">cls</span><span class="s2">, </span><span class="s1">class_or_tuple: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">iter=[</span>
        <span class="s2">lambda </span><span class="s1">iterable: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">callable</span><span class="s2">, </span><span class="s1">sentinel: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">len=[</span>
        <span class="s2">lambda </span><span class="s1">obj: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">list=[</span>
        <span class="s2">lambda</span><span class="s1">: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">iterable: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">locals=[</span>
        <span class="s2">lambda</span><span class="s1">: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">long=[</span>
        <span class="s2">lambda </span><span class="s1">x=</span><span class="s5">0</span><span class="s1">: </span><span class="s2">None,</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">x</span><span class="s2">, </span><span class="s1">base=</span><span class="s5">10</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">map=[</span>
        <span class="s2">lambda </span><span class="s1">func</span><span class="s2">, </span><span class="s1">sequence</span><span class="s2">, </span><span class="s1">*iterables: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">memoryview=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">object: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">next=[</span>
        <span class="s2">lambda </span><span class="s1">iterator: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">iterator</span><span class="s2">, </span><span class="s1">default: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">object=[</span>
        <span class="s2">lambda</span><span class="s1">: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">oct=[</span>
        <span class="s2">lambda </span><span class="s1">number: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">ord=[</span>
        <span class="s2">lambda </span><span class="s1">c: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">pow=[</span>
        <span class="s2">lambda </span><span class="s1">x</span><span class="s2">, </span><span class="s1">y: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">x</span><span class="s2">, </span><span class="s1">y</span><span class="s2">, </span><span class="s1">z: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">property=[</span>
        <span class="s2">lambda </span><span class="s1">fget=</span><span class="s2">None, </span><span class="s1">fset=</span><span class="s2">None, </span><span class="s1">fdel=</span><span class="s2">None, </span><span class="s1">doc=</span><span class="s2">None</span><span class="s1">: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">range=[</span>
        <span class="s2">lambda </span><span class="s1">stop: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">start</span><span class="s2">, </span><span class="s1">stop: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">start</span><span class="s2">, </span><span class="s1">stop</span><span class="s2">, </span><span class="s1">step: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">raw_input=[</span>
        <span class="s2">lambda</span><span class="s1">: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">prompt: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">reduce=[</span>
        <span class="s2">lambda </span><span class="s1">function</span><span class="s2">, </span><span class="s1">sequence: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">function</span><span class="s2">, </span><span class="s1">sequence</span><span class="s2">, </span><span class="s1">initial: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">reload=[</span>
        <span class="s2">lambda </span><span class="s1">module: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">repr=[</span>
        <span class="s2">lambda </span><span class="s1">obj: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">reversed=[</span>
        <span class="s2">lambda </span><span class="s1">sequence: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">round=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">number</span><span class="s2">, </span><span class="s1">ndigits=</span><span class="s5">0</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">set=[</span>
        <span class="s2">lambda</span><span class="s1">: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">iterable: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">setattr=[</span>
        <span class="s2">lambda </span><span class="s1">obj</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">value: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">slice=[</span>
        <span class="s2">lambda </span><span class="s1">stop: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">start</span><span class="s2">, </span><span class="s1">stop: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">start</span><span class="s2">, </span><span class="s1">stop</span><span class="s2">, </span><span class="s1">step: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">staticmethod=[</span>
        <span class="s2">lambda </span><span class="s1">function: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">sum=[</span>
        <span class="s2">lambda </span><span class="s1">iterable: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">iterable</span><span class="s2">, </span><span class="s1">start: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">super=[</span>
        <span class="s2">lambda </span><span class="s1">type: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">type</span><span class="s2">, </span><span class="s1">obj: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">tuple=[</span>
        <span class="s2">lambda</span><span class="s1">: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">iterable: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">type=[</span>
        <span class="s2">lambda </span><span class="s1">object: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">name</span><span class="s2">, </span><span class="s1">bases</span><span class="s2">, </span><span class="s1">dict: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">unichr=[</span>
        <span class="s2">lambda </span><span class="s1">i: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">unicode=[</span>
        <span class="s2">lambda </span><span class="s1">object: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">string=</span><span class="s4">''</span><span class="s2">, </span><span class="s1">encoding=</span><span class="s4">'utf8'</span><span class="s2">, </span><span class="s1">errors=</span><span class="s4">'strict'</span><span class="s1">: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">vars=[</span>
        <span class="s2">lambda</span><span class="s1">: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">object: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">xrange=[</span>
        <span class="s2">lambda </span><span class="s1">stop: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">start</span><span class="s2">, </span><span class="s1">stop: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">start</span><span class="s2">, </span><span class="s1">stop</span><span class="s2">, </span><span class="s1">step: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">zip=[</span>
        <span class="s2">lambda </span><span class="s1">*iterables: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__build_class__=[</span>
        <span class="s1">(</span><span class="s5">2</span><span class="s2">, lambda </span><span class="s1">func</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">*bases</span><span class="s2">, </span><span class="s1">**kwds: </span><span class="s2">None, </span><span class="s1">(</span><span class="s4">'metaclass'</span><span class="s2">,</span><span class="s1">))]</span><span class="s2">,</span>
    <span class="s1">__import__=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">name</span><span class="s2">, </span><span class="s1">globals=</span><span class="s2">None, </span><span class="s1">locals=</span><span class="s2">None, </span><span class="s1">fromlist=</span><span class="s2">None,</span>
            <span class="s1">level=</span><span class="s2">None</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
<span class="s1">)</span>
<span class="s1">module_info[builtins][</span><span class="s4">'exec'</span><span class="s1">] = [</span>
    <span class="s2">lambda </span><span class="s1">source: </span><span class="s2">None,</span>
    <span class="s2">lambda </span><span class="s1">source</span><span class="s2">, </span><span class="s1">globals: </span><span class="s2">None,</span>
    <span class="s2">lambda </span><span class="s1">source</span><span class="s2">, </span><span class="s1">globals</span><span class="s2">, </span><span class="s1">locals: </span><span class="s2">None</span><span class="s1">]</span>

<span class="s1">module_info[builtins].update(</span>
    <span class="s1">breakpoint=[</span>
        <span class="s2">lambda </span><span class="s1">*args</span><span class="s2">, </span><span class="s1">**kws: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">bytes=[</span>
        <span class="s2">lambda</span><span class="s1">: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">int: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">string</span><span class="s2">, </span><span class="s1">encoding=</span><span class="s4">'utf8'</span><span class="s2">, </span><span class="s1">errors=</span><span class="s4">'strict'</span><span class="s1">: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">compile=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">source</span><span class="s2">, </span><span class="s1">filename</span><span class="s2">, </span><span class="s1">mode</span><span class="s2">, </span><span class="s1">flags=</span><span class="s5">0</span><span class="s2">,</span>
            <span class="s1">dont_inherit=</span><span class="s2">False, </span><span class="s1">optimize=-</span><span class="s5">1</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">max=[</span>
        <span class="s1">(</span><span class="s5">1</span><span class="s2">, lambda </span><span class="s1">iterable: </span><span class="s2">None, </span><span class="s1">(</span><span class="s4">'default'</span><span class="s2">, </span><span class="s4">'key'</span><span class="s2">,</span><span class="s1">))</span><span class="s2">,</span>
        <span class="s1">(</span><span class="s5">1</span><span class="s2">, lambda </span><span class="s1">arg1</span><span class="s2">, </span><span class="s1">arg2</span><span class="s2">, </span><span class="s1">*args: </span><span class="s2">None, </span><span class="s1">(</span><span class="s4">'key'</span><span class="s2">,</span><span class="s1">))]</span><span class="s2">,</span>
    <span class="s1">min=[</span>
        <span class="s1">(</span><span class="s5">1</span><span class="s2">, lambda </span><span class="s1">iterable: </span><span class="s2">None, </span><span class="s1">(</span><span class="s4">'default'</span><span class="s2">, </span><span class="s4">'key'</span><span class="s2">,</span><span class="s1">))</span><span class="s2">,</span>
        <span class="s1">(</span><span class="s5">1</span><span class="s2">, lambda </span><span class="s1">arg1</span><span class="s2">, </span><span class="s1">arg2</span><span class="s2">, </span><span class="s1">*args: </span><span class="s2">None, </span><span class="s1">(</span><span class="s4">'key'</span><span class="s2">,</span><span class="s1">))]</span><span class="s2">,</span>
    <span class="s1">open=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">file</span><span class="s2">, </span><span class="s1">mode=</span><span class="s4">'r'</span><span class="s2">, </span><span class="s1">buffering=-</span><span class="s5">1</span><span class="s2">, </span><span class="s1">encoding=</span><span class="s2">None,</span>
            <span class="s1">errors=</span><span class="s2">None, </span><span class="s1">newline=</span><span class="s2">None, </span><span class="s1">closefd=</span><span class="s2">True, </span><span class="s1">opener=</span><span class="s2">None</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">sorted=[</span>
        <span class="s1">(</span><span class="s5">1</span><span class="s2">, lambda </span><span class="s1">iterable: </span><span class="s2">None, </span><span class="s1">(</span><span class="s4">'key'</span><span class="s2">, </span><span class="s4">'reverse'</span><span class="s1">))]</span><span class="s2">,</span>
    <span class="s1">str=[</span>
        <span class="s2">lambda </span><span class="s1">object=</span><span class="s4">''</span><span class="s2">, </span><span class="s1">encoding=</span><span class="s4">'utf'</span><span class="s2">, </span><span class="s1">errors=</span><span class="s4">'strict'</span><span class="s1">: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
<span class="s1">)</span>
<span class="s1">module_info[builtins][</span><span class="s4">'print'</span><span class="s1">] = [</span>
    <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">*args: </span><span class="s2">None, </span><span class="s1">(</span><span class="s4">'sep'</span><span class="s2">, </span><span class="s4">'end'</span><span class="s2">, </span><span class="s4">'file'</span><span class="s2">, </span><span class="s4">'flush'</span><span class="s2">,</span><span class="s1">))]</span>


<span class="s1">module_info[functools] = dict(</span>
    <span class="s1">cmp_to_key=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">mycmp: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">partial=[</span>
        <span class="s2">lambda </span><span class="s1">func</span><span class="s2">, </span><span class="s1">*args</span><span class="s2">, </span><span class="s1">**kwargs: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">partialmethod=[</span>
        <span class="s2">lambda </span><span class="s1">func</span><span class="s2">, </span><span class="s1">*args</span><span class="s2">, </span><span class="s1">**kwargs: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">reduce=[</span>
        <span class="s2">lambda </span><span class="s1">function</span><span class="s2">, </span><span class="s1">sequence: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">function</span><span class="s2">, </span><span class="s1">sequence</span><span class="s2">, </span><span class="s1">initial: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
<span class="s1">)</span>

<span class="s1">module_info[itertools] = dict(</span>
    <span class="s1">accumulate=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">iterable</span><span class="s2">, </span><span class="s1">func=</span><span class="s2">None</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">chain=[</span>
        <span class="s2">lambda </span><span class="s1">*iterables: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">combinations=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">iterable</span><span class="s2">, </span><span class="s1">r: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">combinations_with_replacement=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">iterable</span><span class="s2">, </span><span class="s1">r: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">compress=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">data</span><span class="s2">, </span><span class="s1">selectors: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">count=[</span>
        <span class="s2">lambda </span><span class="s1">start=</span><span class="s5">0</span><span class="s2">, </span><span class="s1">step=</span><span class="s5">1</span><span class="s1">: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">cycle=[</span>
        <span class="s2">lambda </span><span class="s1">iterable: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">dropwhile=[</span>
        <span class="s2">lambda </span><span class="s1">predicate</span><span class="s2">, </span><span class="s1">iterable: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">filterfalse=[</span>
        <span class="s2">lambda </span><span class="s1">function</span><span class="s2">, </span><span class="s1">sequence: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">groupby=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">iterable</span><span class="s2">, </span><span class="s1">key=</span><span class="s2">None</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">ifilter=[</span>
        <span class="s2">lambda </span><span class="s1">function</span><span class="s2">, </span><span class="s1">sequence: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">ifilterfalse=[</span>
        <span class="s2">lambda </span><span class="s1">function</span><span class="s2">, </span><span class="s1">sequence: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">imap=[</span>
        <span class="s2">lambda </span><span class="s1">func</span><span class="s2">, </span><span class="s1">sequence</span><span class="s2">, </span><span class="s1">*iterables: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">islice=[</span>
        <span class="s2">lambda </span><span class="s1">iterable</span><span class="s2">, </span><span class="s1">stop: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">iterable</span><span class="s2">, </span><span class="s1">start</span><span class="s2">, </span><span class="s1">stop: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">iterable</span><span class="s2">, </span><span class="s1">start</span><span class="s2">, </span><span class="s1">stop</span><span class="s2">, </span><span class="s1">step: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">izip=[</span>
        <span class="s2">lambda </span><span class="s1">*iterables: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">izip_longest=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">*iterables: </span><span class="s2">None, </span><span class="s1">(</span><span class="s4">'fillvalue'</span><span class="s2">,</span><span class="s1">))]</span><span class="s2">,</span>
    <span class="s1">permutations=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">iterable</span><span class="s2">, </span><span class="s1">r=</span><span class="s5">0</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">repeat=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">object</span><span class="s2">, </span><span class="s1">times=</span><span class="s5">0</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">starmap=[</span>
        <span class="s2">lambda </span><span class="s1">function</span><span class="s2">, </span><span class="s1">sequence: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">takewhile=[</span>
        <span class="s2">lambda </span><span class="s1">predicate</span><span class="s2">, </span><span class="s1">iterable: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">tee=[</span>
        <span class="s2">lambda </span><span class="s1">iterable: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">iterable</span><span class="s2">, </span><span class="s1">n: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">zip_longest=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">*iterables: </span><span class="s2">None, </span><span class="s1">(</span><span class="s4">'fillvalue'</span><span class="s2">,</span><span class="s1">))]</span><span class="s2">,</span>
<span class="s1">)</span>

<span class="s1">module_info[itertools].update(</span>
    <span class="s1">product=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">*iterables: </span><span class="s2">None, </span><span class="s1">(</span><span class="s4">'repeat'</span><span class="s2">,</span><span class="s1">))]</span><span class="s2">,</span>
<span class="s1">)</span>


<span class="s1">module_info[operator] = dict(</span>
    <span class="s1">__abs__=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__add__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__and__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__concat__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__contains__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__delitem__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__delslice__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__div__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__eq__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__floordiv__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__ge__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__getitem__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__getslice__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__gt__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__iadd__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__iand__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__iconcat__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__idiv__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__ifloordiv__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__ilshift__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__imatmul__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__imod__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__imul__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__index__=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__inv__=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__invert__=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__ior__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__ipow__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__irepeat__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__irshift__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__isub__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__itruediv__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__ixor__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__le__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__lshift__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__lt__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__matmul__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__mod__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__mul__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__ne__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__neg__=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__not__=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__or__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__pos__=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__pow__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__repeat__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__rshift__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__setitem__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__setslice__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c</span><span class="s2">, </span><span class="s1">d: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__sub__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__truediv__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">__xor__=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">_abs=[</span>
        <span class="s2">lambda </span><span class="s1">x: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">_compare_digest=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">abs=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">add=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">and_=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">attrgetter=[</span>
        <span class="s2">lambda </span><span class="s1">attr</span><span class="s2">, </span><span class="s1">*args: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">concat=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">contains=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">countOf=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">delitem=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">delslice=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">div=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">eq=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">floordiv=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">ge=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">getitem=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">getslice=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">gt=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">iadd=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">iand=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">iconcat=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">idiv=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">ifloordiv=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">ilshift=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">imatmul=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">imod=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">imul=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">index=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">indexOf=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">inv=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">invert=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">ior=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">ipow=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">irepeat=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">irshift=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">is_=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">is_not=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">isCallable=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">isMappingType=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">isNumberType=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">isSequenceType=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">isub=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">itemgetter=[</span>
        <span class="s2">lambda </span><span class="s1">item</span><span class="s2">, </span><span class="s1">*args: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">itruediv=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">ixor=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">le=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">length_hint=[</span>
        <span class="s2">lambda </span><span class="s1">obj: </span><span class="s2">None,</span>
        <span class="s2">lambda </span><span class="s1">obj</span><span class="s2">, </span><span class="s1">default: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">lshift=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">lt=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">matmul=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">methodcaller=[</span>
        <span class="s2">lambda </span><span class="s1">name</span><span class="s2">, </span><span class="s1">*args</span><span class="s2">, </span><span class="s1">**kwargs: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">mod=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">mul=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">ne=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">neg=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">not_=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">or_=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">pos=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">pow=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">repeat=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">rshift=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">sequenceIncludes=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">setitem=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">setslice=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c</span><span class="s2">, </span><span class="s1">d: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">sub=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">truediv=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">truth=[</span>
        <span class="s2">lambda </span><span class="s1">a: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
    <span class="s1">xor=[</span>
        <span class="s2">lambda </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b: </span><span class="s2">None</span><span class="s1">]</span><span class="s2">,</span>
<span class="s1">)</span>

<span class="s1">module_info[</span><span class="s4">'toolz'</span><span class="s1">] = dict(</span>
    <span class="s1">curry=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">*args</span><span class="s2">, </span><span class="s1">**kwargs: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">excepts=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">exc</span><span class="s2">, </span><span class="s1">func</span><span class="s2">, </span><span class="s1">handler=</span><span class="s2">None</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">flip=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">func=</span><span class="s2">None, </span><span class="s1">a=</span><span class="s2">None, </span><span class="s1">b=</span><span class="s2">None</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">juxt=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">*funcs: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">memoize=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">func=</span><span class="s2">None, </span><span class="s1">cache=</span><span class="s2">None, </span><span class="s1">key=</span><span class="s2">None</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
<span class="s1">)</span>

<span class="s1">module_info[</span><span class="s4">'toolz.functoolz'</span><span class="s1">] = dict(</span>
    <span class="s1">Compose=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">funcs: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
    <span class="s1">InstanceProperty=[</span>
        <span class="s1">(</span><span class="s5">0</span><span class="s2">, lambda </span><span class="s1">fget=</span><span class="s2">None, </span><span class="s1">fset=</span><span class="s2">None, </span><span class="s1">fdel=</span><span class="s2">None, </span><span class="s1">doc=</span><span class="s2">None,</span>
            <span class="s1">classval=</span><span class="s2">None</span><span class="s1">: </span><span class="s2">None</span><span class="s1">)]</span><span class="s2">,</span>
<span class="s1">)</span>


<span class="s2">def </span><span class="s1">num_pos_args(sigspec):</span>
    <span class="s0">&quot;&quot;&quot; Return the number of positional arguments.  ``f(x, y=1)`` has 1&quot;&quot;&quot;</span>
    <span class="s2">return </span><span class="s1">sum(</span><span class="s5">1 </span><span class="s2">for </span><span class="s1">x </span><span class="s2">in </span><span class="s1">sigspec.parameters.values()</span>
               <span class="s2">if </span><span class="s1">x.kind == x.POSITIONAL_OR_KEYWORD</span>
               <span class="s2">and </span><span class="s1">x.default </span><span class="s2">is </span><span class="s1">x.empty)</span>


<span class="s2">def </span><span class="s1">get_exclude_keywords(num_pos_only</span><span class="s2">, </span><span class="s1">sigspec):</span>
    <span class="s0">&quot;&quot;&quot; Return the names of position-only arguments if func has **kwargs&quot;&quot;&quot;</span>
    <span class="s2">if </span><span class="s1">num_pos_only == </span><span class="s5">0</span><span class="s1">:</span>
        <span class="s2">return </span><span class="s1">()</span>
    <span class="s1">has_kwargs = any(x.kind == x.VAR_KEYWORD</span>
                     <span class="s2">for </span><span class="s1">x </span><span class="s2">in </span><span class="s1">sigspec.parameters.values())</span>
    <span class="s2">if not </span><span class="s1">has_kwargs:</span>
        <span class="s2">return </span><span class="s1">()</span>
    <span class="s1">pos_args = list(sigspec.parameters.values())[:num_pos_only]</span>
    <span class="s2">return </span><span class="s1">tuple(x.name </span><span class="s2">for </span><span class="s1">x </span><span class="s2">in </span><span class="s1">pos_args)</span>


<span class="s2">def </span><span class="s1">signature_or_spec(func):</span>
    <span class="s2">try</span><span class="s1">:</span>
        <span class="s2">return </span><span class="s1">inspect.signature(func)</span>
    <span class="s2">except </span><span class="s1">(ValueError</span><span class="s2">, </span><span class="s1">TypeError):</span>
        <span class="s2">return None</span>


<span class="s2">def </span><span class="s1">expand_sig(sig):</span>
    <span class="s0">&quot;&quot;&quot; Convert the signature spec in ``module_info`` to add to ``signatures`` 
 
    The input signature spec is one of: 
        - ``lambda_func`` 
        - ``(num_position_args, lambda_func)`` 
        - ``(num_position_args, lambda_func, keyword_only_args)`` 
 
    The output signature spec is: 
        ``(num_position_args, lambda_func, keyword_exclude, sigspec)`` 
 
    where ``keyword_exclude`` includes keyword only arguments and, if variadic 
    keywords is present, the names of position-only argument.  The latter is 
    included to support builtins such as ``partial(func, *args, **kwargs)``, 
    which allows ``func=`` to be used as a keyword even though it's the name 
    of a positional argument. 
    &quot;&quot;&quot;</span>
    <span class="s2">if </span><span class="s1">isinstance(sig</span><span class="s2">, </span><span class="s1">tuple):</span>
        <span class="s2">if </span><span class="s1">len(sig) == </span><span class="s5">3</span><span class="s1">:</span>
            <span class="s1">num_pos_only</span><span class="s2">, </span><span class="s1">func</span><span class="s2">, </span><span class="s1">keyword_only = sig</span>
            <span class="s2">assert </span><span class="s1">isinstance(sig[-</span><span class="s5">1</span><span class="s1">]</span><span class="s2">, </span><span class="s1">tuple)</span>
        <span class="s2">else</span><span class="s1">:</span>
            <span class="s1">num_pos_only</span><span class="s2">, </span><span class="s1">func = sig</span>
            <span class="s1">keyword_only = ()</span>
        <span class="s1">sigspec = signature_or_spec(func)</span>
    <span class="s2">else</span><span class="s1">:</span>
        <span class="s1">func = sig</span>
        <span class="s1">sigspec = signature_or_spec(func)</span>
        <span class="s1">num_pos_only = num_pos_args(sigspec)</span>
        <span class="s1">keyword_only = ()</span>
    <span class="s1">keyword_exclude = get_exclude_keywords(num_pos_only</span><span class="s2">, </span><span class="s1">sigspec)</span>
    <span class="s2">return </span><span class="s1">num_pos_only</span><span class="s2">, </span><span class="s1">func</span><span class="s2">, </span><span class="s1">keyword_only + keyword_exclude</span><span class="s2">, </span><span class="s1">sigspec</span>


<span class="s1">signatures = {}</span>


<span class="s2">def </span><span class="s1">create_signature_registry(module_info=module_info</span><span class="s2">, </span><span class="s1">signatures=signatures):</span>
    <span class="s2">for </span><span class="s1">module</span><span class="s2">, </span><span class="s1">info </span><span class="s2">in </span><span class="s1">module_info.items():</span>
        <span class="s2">if </span><span class="s1">isinstance(module</span><span class="s2">, </span><span class="s1">str):</span>
            <span class="s1">module = import_module(module)</span>
        <span class="s2">for </span><span class="s1">name</span><span class="s2">, </span><span class="s1">sigs </span><span class="s2">in </span><span class="s1">info.items():</span>
            <span class="s2">if </span><span class="s1">hasattr(module</span><span class="s2">, </span><span class="s1">name):</span>
                <span class="s1">new_sigs = tuple(expand_sig(sig) </span><span class="s2">for </span><span class="s1">sig </span><span class="s2">in </span><span class="s1">sigs)</span>
                <span class="s1">signatures[getattr(module</span><span class="s2">, </span><span class="s1">name)] = new_sigs</span>


<span class="s2">def </span><span class="s1">check_valid(sig</span><span class="s2">, </span><span class="s1">args</span><span class="s2">, </span><span class="s1">kwargs):</span>
    <span class="s0">&quot;&quot;&quot; Like ``is_valid_args`` for the given signature spec&quot;&quot;&quot;</span>
    <span class="s1">num_pos_only</span><span class="s2">, </span><span class="s1">func</span><span class="s2">, </span><span class="s1">keyword_exclude</span><span class="s2">, </span><span class="s1">sigspec = sig</span>
    <span class="s2">if </span><span class="s1">len(args) &lt; num_pos_only:</span>
        <span class="s2">return False</span>
    <span class="s2">if </span><span class="s1">keyword_exclude:</span>
        <span class="s1">kwargs = dict(kwargs)</span>
        <span class="s2">for </span><span class="s1">item </span><span class="s2">in </span><span class="s1">keyword_exclude:</span>
            <span class="s1">kwargs.pop(item</span><span class="s2">, None</span><span class="s1">)</span>
    <span class="s2">try</span><span class="s1">:</span>
        <span class="s1">func(*args</span><span class="s2">, </span><span class="s1">**kwargs)</span>
        <span class="s2">return True</span>
    <span class="s2">except </span><span class="s1">TypeError:</span>
        <span class="s2">return False</span>


<span class="s2">def </span><span class="s1">_is_valid_args(func</span><span class="s2">, </span><span class="s1">args</span><span class="s2">, </span><span class="s1">kwargs):</span>
    <span class="s0">&quot;&quot;&quot; Like ``is_valid_args`` for builtins in our ``signatures`` registry&quot;&quot;&quot;</span>
    <span class="s2">if </span><span class="s1">func </span><span class="s2">not in </span><span class="s1">signatures:</span>
        <span class="s2">return None</span>
    <span class="s1">sigs = signatures[func]</span>
    <span class="s2">return </span><span class="s1">any(check_valid(sig</span><span class="s2">, </span><span class="s1">args</span><span class="s2">, </span><span class="s1">kwargs) </span><span class="s2">for </span><span class="s1">sig </span><span class="s2">in </span><span class="s1">sigs)</span>


<span class="s2">def </span><span class="s1">check_partial(sig</span><span class="s2">, </span><span class="s1">args</span><span class="s2">, </span><span class="s1">kwargs):</span>
    <span class="s0">&quot;&quot;&quot; Like ``is_partial_args`` for the given signature spec&quot;&quot;&quot;</span>
    <span class="s1">num_pos_only</span><span class="s2">, </span><span class="s1">func</span><span class="s2">, </span><span class="s1">keyword_exclude</span><span class="s2">, </span><span class="s1">sigspec = sig</span>
    <span class="s2">if </span><span class="s1">len(args) &lt; num_pos_only:</span>
        <span class="s1">pad = (</span><span class="s2">None,</span><span class="s1">) * (num_pos_only - len(args))</span>
        <span class="s1">args = args + pad</span>
    <span class="s2">if </span><span class="s1">keyword_exclude:</span>
        <span class="s1">kwargs = dict(kwargs)</span>
        <span class="s2">for </span><span class="s1">item </span><span class="s2">in </span><span class="s1">keyword_exclude:</span>
            <span class="s1">kwargs.pop(item</span><span class="s2">, None</span><span class="s1">)</span>
    <span class="s2">return </span><span class="s1">is_partial_args(func</span><span class="s2">, </span><span class="s1">args</span><span class="s2">, </span><span class="s1">kwargs</span><span class="s2">, </span><span class="s1">sigspec)</span>


<span class="s2">def </span><span class="s1">_is_partial_args(func</span><span class="s2">, </span><span class="s1">args</span><span class="s2">, </span><span class="s1">kwargs):</span>
    <span class="s0">&quot;&quot;&quot; Like ``is_partial_args`` for builtins in our ``signatures`` registry&quot;&quot;&quot;</span>
    <span class="s2">if </span><span class="s1">func </span><span class="s2">not in </span><span class="s1">signatures:</span>
        <span class="s2">return None</span>
    <span class="s1">sigs = signatures[func]</span>
    <span class="s2">return </span><span class="s1">any(check_partial(sig</span><span class="s2">, </span><span class="s1">args</span><span class="s2">, </span><span class="s1">kwargs) </span><span class="s2">for </span><span class="s1">sig </span><span class="s2">in </span><span class="s1">sigs)</span>


<span class="s2">def </span><span class="s1">check_arity(n</span><span class="s2">, </span><span class="s1">sig):</span>
    <span class="s1">num_pos_only</span><span class="s2">, </span><span class="s1">func</span><span class="s2">, </span><span class="s1">keyword_exclude</span><span class="s2">, </span><span class="s1">sigspec = sig</span>
    <span class="s2">if </span><span class="s1">keyword_exclude </span><span class="s2">or </span><span class="s1">num_pos_only &gt; n:</span>
        <span class="s2">return False</span>
    <span class="s2">return </span><span class="s1">is_arity(n</span><span class="s2">, </span><span class="s1">func</span><span class="s2">, </span><span class="s1">sigspec)</span>


<span class="s2">def </span><span class="s1">_is_arity(n</span><span class="s2">, </span><span class="s1">func):</span>
    <span class="s2">if </span><span class="s1">func </span><span class="s2">not in </span><span class="s1">signatures:</span>
        <span class="s2">return None</span>
    <span class="s1">sigs = signatures[func]</span>
    <span class="s1">checks = [check_arity(n</span><span class="s2">, </span><span class="s1">sig) </span><span class="s2">for </span><span class="s1">sig </span><span class="s2">in </span><span class="s1">sigs]</span>
    <span class="s2">if </span><span class="s1">all(checks):</span>
        <span class="s2">return True</span>
    <span class="s2">elif </span><span class="s1">any(checks):</span>
        <span class="s2">return None</span>
    <span class="s2">return False</span>


<span class="s2">def </span><span class="s1">check_varargs(sig):</span>
    <span class="s1">num_pos_only</span><span class="s2">, </span><span class="s1">func</span><span class="s2">, </span><span class="s1">keyword_exclude</span><span class="s2">, </span><span class="s1">sigspec = sig</span>
    <span class="s2">return </span><span class="s1">has_varargs(func</span><span class="s2">, </span><span class="s1">sigspec)</span>


<span class="s2">def </span><span class="s1">_has_varargs(func):</span>
    <span class="s2">if </span><span class="s1">func </span><span class="s2">not in </span><span class="s1">signatures:</span>
        <span class="s2">return None</span>
    <span class="s1">sigs = signatures[func]</span>
    <span class="s1">checks = [check_varargs(sig) </span><span class="s2">for </span><span class="s1">sig </span><span class="s2">in </span><span class="s1">sigs]</span>
    <span class="s2">if </span><span class="s1">all(checks):</span>
        <span class="s2">return True</span>
    <span class="s2">elif </span><span class="s1">any(checks):</span>
        <span class="s2">return None</span>
    <span class="s2">return False</span>


<span class="s2">def </span><span class="s1">check_keywords(sig):</span>
    <span class="s1">num_pos_only</span><span class="s2">, </span><span class="s1">func</span><span class="s2">, </span><span class="s1">keyword_exclude</span><span class="s2">, </span><span class="s1">sigspec = sig</span>
    <span class="s2">if </span><span class="s1">keyword_exclude:</span>
        <span class="s2">return True</span>
    <span class="s2">return </span><span class="s1">has_keywords(func</span><span class="s2">, </span><span class="s1">sigspec)</span>


<span class="s2">def </span><span class="s1">_has_keywords(func):</span>
    <span class="s2">if </span><span class="s1">func </span><span class="s2">not in </span><span class="s1">signatures:</span>
        <span class="s2">return None</span>
    <span class="s1">sigs = signatures[func]</span>
    <span class="s1">checks = [check_keywords(sig) </span><span class="s2">for </span><span class="s1">sig </span><span class="s2">in </span><span class="s1">sigs]</span>
    <span class="s2">if </span><span class="s1">all(checks):</span>
        <span class="s2">return True</span>
    <span class="s2">elif </span><span class="s1">any(checks):</span>
        <span class="s2">return None</span>
    <span class="s2">return False</span>


<span class="s2">def </span><span class="s1">check_required_args(sig):</span>
    <span class="s1">num_pos_only</span><span class="s2">, </span><span class="s1">func</span><span class="s2">, </span><span class="s1">keyword_exclude</span><span class="s2">, </span><span class="s1">sigspec = sig</span>
    <span class="s2">return </span><span class="s1">num_required_args(func</span><span class="s2">, </span><span class="s1">sigspec)</span>


<span class="s2">def </span><span class="s1">_num_required_args(func):</span>
    <span class="s2">if </span><span class="s1">func </span><span class="s2">not in </span><span class="s1">signatures:</span>
        <span class="s2">return None</span>
    <span class="s1">sigs = signatures[func]</span>
    <span class="s1">vals = [check_required_args(sig) </span><span class="s2">for </span><span class="s1">sig </span><span class="s2">in </span><span class="s1">sigs]</span>
    <span class="s1">val = vals[</span><span class="s5">0</span><span class="s1">]</span>
    <span class="s2">if </span><span class="s1">all(x == val </span><span class="s2">for </span><span class="s1">x </span><span class="s2">in </span><span class="s1">vals):</span>
        <span class="s2">return </span><span class="s1">val</span>
    <span class="s2">return None</span>
</pre>
</body>
</html>